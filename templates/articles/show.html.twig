{% extends 'base.html.twig' %}

{% block title %}
	{{ article.title }}
{% endblock %}

{% block header %}
	<div class="container">
		<div class="text-center">
			<h1>{{ article.title }}</h1>
		</div>
	</div>

{% endblock %}

{% block section %}
	<div class="container pt-5">
		<div class="d-flex flex-column d-grid gap-2">
			<div class="">
				{{ article.article|raw }}
			</div>
			<div class="d-flex flex-row flex-wrap d-grid gap-2">
				{% for image in article.images %}
					<div class="">
						<img src="{{ asset('/img/download/'~ article.slug ~ '/' ~ image.source) }}" alt="">
					</div>
				{% endfor %}
			</div>
			<div class="">
				<p>
					<strong>Auteur :
					</strong>
					{{ article.user.displayName }}</p>
			</div>
			{% if article.PublishedAt %}
				<p>
					<strong>Publié :
					</strong>
					{{ article.publishedAt|format_datetime(locale='fr',pattern="EEEE dd MMMM YYYY") }}
				</p>
			{% else %}
				<p>
					<strong>Jamais Publié</strong>
				</p>
			{% endif %}

			{% if article.modifiedAt %}
				<p>
					<strong>Modifié :
					</strong>
					{{ article.publishedAt|format_datetime(locale='fr',pattern="EEEE dd MMMM YYYY") }}
				</p>
			{% endif %}
		</div>
	</div>

	<div class="container">
		<div class="d-flex flex-row d-grid gap-2">
			{% if is_granted('DELETE_ARTICLE',article) %}
				<div class="">
					{{ include('articles/_delete_form.html.twig') }}
				</div>
			{% endif %}

			{% if is_granted('EDIT_ARTICLE',article) %}
				<div class="">
					<a href="{{ path('app_articles_edit', {'slug': article.slug}) }}" class="btn btn-primary">Editer</a>
				</div>
			{% endif %}
		</div>
	</div>

{% endblock %}
